<ion-view cache-view="true" title="患者病情报告">
    <ion-nav-buttons side="left" >
        <button class="button button-icon icon ion-ios-arrow-left fc-ff" ng-click="Goback()"></button>
    </ion-nav-buttons>   

  <ion-content>
<!-- <div class="bar bar-header" style="position:absolute; top:-58px; border: none;"> -->
    <div class="row">
      <button id="week" ng-click="toWeekReports()" class="periodBtn">周</button>
      <button id="month" ng-click="toMonthReports()" class="periodBtn">月</button>
      <button id="season" ng-click="toSeasonReports()" class="periodBtn">季</button>
      <button id="year" ng-click="toYearReports()" class="periodBtn">年</button>
    </div>   

    <div class="row">
      <button ng-click="last()" class="arrowBtn"><i class="icon ion-ios-arrow-left"></i></button>
      <!-- <button ng-if="writeReport" ng-click="editReport()" class="arrowBtn">修改报告</button>
      <button ng-if="!writeReport" ng-click="saveReport()" class="arrowBtn">保存</button> -->
      <button class="arrowBtn" style="width: 70%"></button>
      <button ng-if="modify" ng-click="next()" class="arrowBtn"><i class="icon ion-ios-arrow-right"></i></button>
      <button ng-if="!modify" class="arrowBtn"><i class="icon ion-ios-arrow-right"></i></button>
    </div>

    <div>
      <div style="margin-top: -10px; min-width: 300px; " id="container1"></div><!-- //体温 -->
      <div ng-if="modify&&Temp.hasdata">
        <div class="doctorAdvice">本{{typeC}}体温记录{{Temp.recordTimes}}次，发热{{Temp.outOfRangeTimes1}}次</div>

        <div class="doctorAdvice"><span>医生建议：</span><span>体温高于37.3为发热</span></div>
      </div>

      <div style="margin-top: 50px; min-width: 300px; " id="container2"></div><!-- //体重 -->
      <div ng-if="modify">
        <div class="doctorAdvice" ng-if="Weight.hasdata">本{{typeC}}体重记录{{Weight.recordDays}}天，{{Weight.recordTimes}}次，平均体重{{Weight.average1}}kg,最高值{{Weight.max1}}kg，最低值{{Weight.min1}}kg</div>
        <div class="doctorAdvice"><span>医生建议：建议下{{typeC}}体重控制在</span><input ng-model="Weight.Low" type="number" class="MeasureData"><span>-</span><input ng-model="Weight.High" type="number" class="MeasureData"></div>
        
      </div>

      <div style="margin-top: 50px; min-width: 300px; " id="container3"></div><!-- //血压 -->
      <div ng-if="modify">
        <div class="doctorAdvice" ng-if="BP.hasdata">本{{typeC}}血压记录{{BP.recordDays}}天，{{BP.recordTimes}}次，平均血压{{BP.average1}}/{{BP.average2}}mmHg,最高血压{{BP.max1}}/{{BP.max2}}mmHg，最低血压{{BP.min1}}/{{BP.min2}}mmHg，建议控制血压在{{BP.recommendValue2}}-{{BP.recommendValue1}}/{{BP.recommendValue4}}-{{BP.recommendValue3}}mmHg，超出范围{{BP.outOfRangeTimes1}}次</div>
        <div class="doctorAdvice"><span>医生建议：建议下{{typeC}}血压控制在</span><input ng-model="BP.BPH1" type="number" class="MeasureData"><span>-</span><input ng-model="BP.BPH2" type="number" class="MeasureData"><span>/</span><input ng-model="BP.BPL1" type="number" class="MeasureData"><span>-</span><input ng-model="BP.BPL2" type="number" class="MeasureData"></div>

      </div>

      <div style="margin-top: 50px; min-width: 300px; " id="container4"></div><!-- //尿量 -->
      <div ng-if="modify&&Vol.hasdata">
        <div class="doctorAdvice">本{{typeC}}尿量记录{{Vol.recordDays}}天，尿量最少{{Vol.min1}}mL，最多{{Vol.max1}}mL，平均尿量{{Vol.average1}}mL，发生少尿{{Vol.outOfRangeTimes1}}次</div>
        
        <div class="doctorAdvice"><span>医生建议：少尿为小于500mL（腹透、血透病人除外）</span></div>
      </div>

      <div style="margin-top: 50px; min-width: 300px; " id="container5"></div><!-- //心率 -->
      <div ng-if="modify">
        <div class="doctorAdvice" ng-if="HR.hasdata">本{{typeC}}心率记录{{HR.recordDays}}天，{{HR.recordTimes}}次，平均心率{{HR.average1}}次/分，最高心率{{HR.max1}}次/分，最低心率{{HR.min1}}次/分，建议控制心率{{HR.recommendValue2}}-{{HR.recommendValue1}}次/分，超出范围{{HR.outOfRangeTimes1}}次</div>
        <div class="doctorAdvice"><span>医生建议：建议下{{typeC}}心率控制在</span><input ng-model="HR.HRL" type="number" class="MeasureData"><span>-</span><input ng-model="HR.HRH" type="number" class="MeasureData"></div>
      </div>

      <div style="margin-top: 50px; min-width: 300px; " id="container6"></div><!-- //腹透 -->
      <div ng-if="modify">
        <div class="doctorAdvice"  ng-if="PD.hasdata">本{{typeC}}记录腹透超滤量{{PD.recordDays}}天，腹透超滤量平均{{PD.average1}}mL，最高{{PD.max1}}mL，最低{{PD.min1}}mL，出量平均{{PD.average2}}mL，最高{{PD.max2}}mL，最低{{PD.min2}}mL</div>
        <div class="doctorAdvice"><span>医生建议：建议下{{typeC}}超滤量控制在</span><input ng-model="PD.PDL" type="number" class="MeasureData"><span>-</span><input ng-model="PD.PDH" type="number" class="MeasureData"></div>

      </div>

      <div style="margin-top: 30px; min-width: 300px; " id="container7"></div><!-- //化验 -->
      <div style="margin-top: 30px; min-width: 300px; " id="container8"></div>
      <div style="margin-top: 30px; min-width: 300px; " id="container9"></div>
      <div style="margin-top: 30px; min-width: 300px; " id="container10"></div>
      <div style="margin-top: 30px; min-width: 300px; " id="container11"></div>
      <br>
      <div  ng-if="modify">
      <div ng-if="type=='week'||type=='month'">
        <div>化验：<select class="reportSelect" ng-model="labTestData" ng-options="Option for Option in Options"></select></div>
        <div ng-if="labTestData=='正常'">本{{typeC}}行血常规、尿常规、肝肾功能、血脂等检查未见明显异常</div> 
        <div ng-if="labTestData=='信息缺失'">本{{typeC}}未行血常规、尿常规、肾肝功能、血脂等检查</div>
      </div>
      <div ng-if="type=='season'||type=='year'">
        <span>化验指标：本季度肌酐范围{{LT.}}</span>

      </div>
      <div ng-if="type=='season'||type=='year'" style="margin-top: 30px">
         <span>医生报告：</span>
         <textarea id="doctorReport" type="text" style="height: 60px;width: 100%">定时记录生命体征及用药情况。下次门诊就诊时间建议为****-**-**</textarea>
      </div>
      <div ng-if="type=='week'||type=='month'" style="margin-top: 30px">
        <div>医生报告：<select class="reportSelect" ng-model="doctorReport" ng-options="Option for Option in Options"></select></div>
        <div>
          <textarea id="doctorReport" type="text" style="height: 60px;width: 100%" ng-if="doctorReport=='正常'">本{{typeC}}血压、体重、尿量、体温、血糖等控制良好，记录完整。定时记录生命体征及用药情况。下次门诊就诊时间建议为****-**-**</textarea> 
          <textarea id="doctorReport" type="text" style="height: 60px;width: 100%" ng-if="doctorReport=='信息缺失'">本{{typeC}}血压、体重、尿量、体温、血糖记录不完整（低于一周2天），请及时记录。请定时记录生命体征及用药情况。下次门诊就诊时间建议为****-**-**-**</textarea>   
        </div>
      </div>
      <button style="margin-top:0 ;background: #6ac4f8;width: 80%;margin: 0 auto" class="button button-block button-positive mt-40" type="submit" ng-if="modify==-1" ng-click="saveReport()">提交</button>
      </div>
    </div>

  <!-- <div style="margin-top: 50px; min-width: 300px; height: 450px;" id="container"></div> -->

  </ion-content>

</ion-view>